<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
  
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <title>Plugins - JWT | Kong - Open-Source API Management and Microservice Management</title>
  <meta name="description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more.">
  <meta name="author" content="KongHQ"/>
  <meta property="og:title" content="Open-Source API Management and Microservice Management"/>
  <meta property="og:site_name" content="Kong"/>
  <!-- use share link for facebook -->
  <meta property="og:url" content="https://docs.konghq.com"/>
  <meta property="og:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more."/>
  <meta property="og:type" content="website"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:image" content="https://docs.konghq.com/assets/images/share.png"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:site" content="@thekonginc"/>
  <meta name="twitter:creator" content="@thekonginc"/>
  <meta name="twitter:url" content="https://docs.konghq.com"/>
  <meta name="twitter:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more.">
  <meta name="twitter:image" content="https://docs.konghq.com/assets/images/share.png">
  <meta property="fb:admins" content="227304446"/>
  <meta property="fb:admins" content="576641408"/>
  <meta name="google-site-verification" content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4"/>

  <!-- New Relic -->
  <script>
/* eslint-disable */
window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(15),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,o){try{d?d-=1:i("err",[o||new UncaughtException(t,e,n)])}catch(c){try{i("ierr",[c,(new Date).getTime(),!0])}catch(s){}}return"function"==typeof f&&f.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t){i("err",[t,(new Date).getTime()])}var i=t("handle"),a=t(16),c=t("ee"),s=t("loader"),f=window.onerror,u=!1,d=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(8),t(7),"addEventListener"in window&&t(5),s.xhrWrappable&&t(9),u=!0)}c.on("fn-start",function(t,e,n){u&&(d+=1)}),c.on("fn-err",function(t,e,n){u&&(this.thrown=!0,o(n))}),c.on("fn-end",function(){u&&!this.thrown&&d>0&&(d-=1)}),c.on("internal-error",function(t){i("ierr",[t,(new Date).getTime(),!0])})},{}],3:[function(t,e,n){t("loader").features.ins=!0},{}],4:[function(t,e,n){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(8),c=t(7),s="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",l="resource",p="-start",h="-end",m="fn"+p,w="fn"+h,v="bstTimer",y="pushState";t("loader").features.stn=!0,t(6);var g=NREUM.o.EV;o.on(m,function(t,e){var n=t[0];n instanceof g&&(this.bstStart=Date.now())}),o.on(w,function(t,e){var n=t[0];n instanceof g&&i("bst",[n,e,this.bstStart,Date.now()])}),a.on(m,function(t,e,n){this.bstStart=Date.now(),this.bstType=n}),a.on(w,function(t,e){i(v,[e,this.bstStart,Date.now(),this.bstType])}),c.on(m,function(){this.bstStart=Date.now()}),c.on(w,function(t,e){i(v,[e,this.bstStart,Date.now(),"requestAnimationFrame"])}),o.on(y+p,function(t){this.time=Date.now(),this.startPath=location.pathname+location.hash}),o.on(y+h,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+s]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance["c"+s]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance["webkitC"+s]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],5:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(17)(a,!0),s=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=s(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?c(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],6:[function(t,e,n){var r=t("ee").get("history"),o=t(17)(r);e.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],7:[function(t,e,n){var r=t("ee").get("raf"),o=t(17)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],8:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration="number"==typeof t[1]?t[1]:0,t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(17)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",d="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+d),a.inPlace(window,[s],s+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(s+u,r),i.on(c+u,o)},{}],9:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,w,"fn-",c)}function i(t){v.push(t),h&&(g=-g,b.data=g)}function a(){for(var t=0;t<v.length;t++)r([],v[t]);v.length&&(v=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(5);var f=t("ee"),u=f.get("xhr"),d=t(17)(u),l=NREUM.o,p=l.XHR,h=l.MO,m="readystatechange",w=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],v=[];e.exports=u;var y=window.XMLHttpRequest=function(t){var e=new p(t);try{u.emit("new-xhr",[e],e),e.addEventListener(m,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(p,y),y.prototype=p.prototype,d.inPlace(y.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),h){var g=1,b=document.createTextNode(g);new h(a).observe(b,{characterData:!0})}else f.on("fn-end",function(t){t[0]&&t[0].type===m||a()})},{}],10:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=(new Date).getTime()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var a=t.getResponseHeader("X-NewRelic-App-Data");a&&(e.cat=a.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return h(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(11),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,l=t("id"),p=t(14),h=t(13),m=window.XMLHttpRequest;a.features.xhr=!0,t(9),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,p&&(p>34||p<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=h(r);i&&(n.txSize=i)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var a=0;a<d;a++)e.addEventListener(u[a],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}},{}],11:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],12:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[(new Date).getTime()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(15),c=t(16),s=t("ee").get("tracer"),f=NREUM;"undefined"==typeof window.newrelic&&(newrelic=f);var u=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(u,function(t,e){f[e]=o(d+e,!0,"api")}),f.addPageAction=o(d+"addPageAction",!0),f.setCurrentRouteName=o(d+"routeName",!0),e.exports=newrelic,f.interaction=function(){return(new r).get()};var p=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(l+"tracer",[Date.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[Date.now(),r,o],n),o)try{return e.apply(this,arguments)}finally{s.emit("fn-end",[Date.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){p[e]=o(l+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,(new Date).getTime()])}},{}],13:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],14:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],15:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],16:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],17:[function(t,e,n){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(16),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t,e){function n(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(f){l([f,"",[r,a,o],c])}u(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(d){throw u(e+"err",[r,a,d],c),d}finally{u(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,e,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<e.length;s++)c=e[s],a=t[c],r(a)||(t[c]=n(a,f?c+o:o,i,c))}function u(n,r,o){if(!s||e){var i=s;s=!0;try{t.emit(n,r,o)}catch(a){l([a,n,r,o])}s=i}}function d(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){l([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function l(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),n.inPlace=f,n.flag=a,n}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?s(t,c,i):i()}function n(n,r,o){if(!l.aborted){t&&t(n,r,o);for(var i=e(o),a=h(n),c=a.length,s=0;s<c;s++)a[s].apply(i,r);var f=u[y[n]];return f&&f.push([g,n,r,i]),i}}function p(t,e){v[t]=h(t).concat(e)}function h(t){return v[t]||[]}function m(t){return d[t]=d[t]||o(n)}function w(t,e){f(t,function(t,n){e=e||"feature",y[n]=e,e in u||(u[e]=[])})}var v={},y={},g={on:p,emit:n,get:m,listeners:h,context:e,buffer:w,abort:a,aborted:!1};return g}function i(){return new r}function a(){(u.api||u.feature)&&(l.aborted=!0,u=l.backlog={})}var c="nr@context",s=t("gos"),f=t(15),u={},d={},l=e.exports=o();l.backlog=u},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!b++){var t=g.info=NREUM.info,e=d.getElementsByTagName("script")[0];if(setTimeout(f.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return f.abort();s(v,function(e,n){t[e]||(t[e]=n)}),c("mark",["onload",a()],null,"api");var n=d.createElement("script");n.src="https://"+t.agent,e.parentNode.insertBefore(n,e)}}function o(){"complete"===d.readyState&&i()}function i(){c("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var c=t("handle"),s=t(15),f=t("ee"),u=window,d=u.document,l="addEventListener",p="attachEvent",h=u.XMLHttpRequest,m=h&&h.prototype;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:h,REQ:u.Request,EV:u.Event,PR:u.Promise,MO:u.MutationObserver},t(12);var w=""+location,v={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1016.min.js"},y=h&&m&&m[l]&&!/CriOS/.test(navigator.userAgent),g=e.exports={offset:a(),origin:w,features:{},xhrWrappable:y};d[l]?(d[l]("DOMContentLoaded",i,!1),u[l]("load",r,!1)):(d[p]("onreadystatechange",o),u[p]("onload",r)),c("mark",["firstbyte",a()],null,"api");var b=0},{}]},{},["loader",2,10,4,3]);
;NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"13e44ec848",applicationID:"46444088",sa:1}
</script>


  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "KongHQ",
      "url": "https://docs.konghq.com",
      "logo": "https://docs.konghq.com/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/konginc",
        "https://twitter.com/thekonginc",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>

  <!-- Preload assets -->
  <link rel="dns-prefetch" href="//cloud.typography.com">
  <link rel="dns-prefetch" href="//dev.visualwebsiteoptimizer.com">
  <link rel="dns-prefetch" href="//cdn.segment.com">
  <!-- ##gulp-resource-hints## -->

  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <link rel="stylesheet" href="/assets/styles.css?v=1534747998"/>
</head>

<!-- Kong Cookie Policy -->
<div class="cookie-policy-container">
  <p>In order to give you better service we use cookies. By continuing to use our website, you agree to the use of cookies as described in our <a href=" https://konghq.com/cookie-policy/">Cookie Policy</a>
  <button class="cookie-policy-accept btn button" type="submit">I Agree</button>
</div>



  <body id="page-plugin" >
    <header class="site-header">
  <div class="enterprise">

    <!-- Kong Summit Announcement Banner -->
    <div class="summit-banner bg-summit">
  <a href="https://konghq.com/kong-summit">
    <div class="bg-summit-mask">
      <img class="glow" src="/assets/images/kong-summit/glow.svg" alt="kong-summit-glow" />
    </div>
    <div class="container">
      <div class="row">
        <div class="text-center">
          <p>Kong Summit is coming to SF Sept 18-19! <span class="hide_mobile">Join the Microservices and API Revolution Today!</span>
          <a href="https://konghq.com/kong-summit" class="header_link" alt="Get Your Tickets">REGISTER</a></p>
        </div>
      </div>
    </div>
  </a>
</div>


    <div class="container">
      <nav class="enterprise-sites one-half column">
        <ul>
          <li>
            <a href="https://konghq.com/kong-enterprise-edition">Enterprise</a>
          </li>
          <li>
            <a href="https://konghq.com/kong-community-edition">Kong API Gateway</a>
          </li>
        </ul>
      </nav>
      <nav class="enterprise-contact one-half column">
        <ul>
          <li>
            <a href="https://support.konghq.com/">Support</a>
          </li>
          <li>
            <a href="https://konghq.com/request-demo">Request Demo</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <!-- .enterprise -->
  <div class="navbar">
    <div class="container">
      <a href="https://konghq.com" class="navbar-brand">
        <img src="/assets/images/Kogo.svg" alt="Kong">
      </a>
      <iframe class="header-star" src="https://ghbtns.com/github-btn.html?user=Kong&amp;repo=kong&amp;type=star" frameborder="0"
        scrolling="0" width="55" height="20"></iframe>
      <button data-toggle="collapse" data-target="#navbar" aria-expanded="true" aria-controls="navbar" class="navbar-toggle">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <nav id="navbar" class="navbar-nav">
        <ul>
          <li>
            <a href="/" class="active">Docs</a>
          </li>
          <li>
            <a href="https://konghq.com/about-kong-inc/">About</a>
          </li>
          <li>
            <a href="https://konghq.com/plugins">Plugins</a>
          </li>
          <li>
            <a href="https://konghq.com/community-resources/">Community</a>
          </li>
          <li>
            <a href="https://konghq.com/kong-enterprise-edition/">Enterprise</a>
          </li>
          <li>
            <a href="https://github.com/Kong/kong" target="_blank">GitHub</a>
          </li>
          <li class="hidden-lg">
            <a href="https://support.konghq.com/">Support</a>
          </li>
          <li>
            <a href="https://konghq.com/install" class="button button-dark" data-analytics='{"event": "Clicked download", "type": "button", "location": "header"}'>Installation</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <!-- .navbar -->
</header>


    













<div class="page page-plugin">
  
  <header class="page-header">
    <div class="container">
      
        <div class="page-header-icon">
          <img src="/assets/images/icons/plugins/jwt.png" alt="" />
        </div>
      

      <div class="page-header-title">
        
          <ul class="breadcrumbs">
            
              <li class="breadcrumb-item">
                
                <a href="https://konghq.com/plugins">Plugins</a>
                
              </li>
            
          </ul>
        

        <h1>JWT</h1>

        
      </div>

      

      
    </div>
  </header>



  <div class="container">
    <aside class="page-navigation">

      <nav>
        <h5>Getting Started</h5>
        <ul>
          <li><a href="#terminology">Terminology</a></li>
          
          <li><a href="#configuration">Configuration</a></li>
        </ul>
      </nav>

      
        <nav>
          
            <h5>Getting Started</h5>
          

          <ul>
            
              <li>
                <a href="#terminology">Terminology</a>

                
              </li>
            
              <li>
                <a href="#configuration">Configuration</a>

                
              </li>
            
          </ul>
        </nav>
      
        <nav>
          
            <h5>Documentation</h5>
          

          <ul>
            
              <li>
                <a href="#create-a-consumer">Create a Consumer</a>

                
              </li>
            
              <li>
                <a href="#create-a-jwt-credential">Create a JWT credential</a>

                
              </li>
            
              <li>
                <a href="#delete-a-jwt-credential">Delete a JWT credential</a>

                
              </li>
            
              <li>
                <a href="#list-jwt-credentials">List JWT credentials</a>

                
              </li>
            
              <li>
                <a href="#craft-a-jwt-with-a-secret-hs256">Craft a JWT with a secret (HS256)</a>

                
              </li>
            
              <li>
                <a href="#send-a-request-with-the-jwt">Send a request with the JWT</a>

                
              </li>
            
              <li>
                <a href="#optional-verified-claims">(Optional) Verified claims</a>

                
              </li>
            
              <li>
                <a href="#optional-base64-encoded-secret">(Optional) Base64 encoded secret</a>

                
              </li>
            
              <li>
                <a href="#craft-a-jwt-with-public-private-keys-rs256">Craft a JWT with public/private keys (RS256)</a>

                
              </li>
            
              <li>
                <a href="#generate-public-private-keys">Generate public/private keys</a>

                
              </li>
            
              <li>
                <a href="#using-the-jwt-plugin-with-auth0">Using the JWT plugin with Auth0</a>

                
              </li>
            
              <li>
                <a href="#upstream-headers">Upstream Headers</a>

                
              </li>
            
              <li>
                <a href="#paginate-through-the-jwts">Paginate through the JWTs</a>

                
              </li>
            
              <li>
                <a href="#retrieve-the-consumer-associated-with-a-jwt">Retrieve the Consumer associated with a JWT</a>

                
              </li>
            
          </ul>
        </nav>
      
    </aside>

    <div class="page-content-container">
      <div class="page-content">
        <div class="content">

          <p>Verify requests containing HS256 or RS256 signed JSON Web Tokens (as specified in <a href="https://tools.ietf.org/html/rfc7519">RFC 7519</a>). Each of your Consumers will have JWT credentials (public and secret keys) which must be used to sign their JWTs. A token can then be passed through:</p>

<ul>
<li>a query string parameter,</li>
<li>a cookie,</li>
<li>or the Authorization header.</li>
</ul>

<p>Kong will either proxy the request to your upstream services if the token&#39;s signature is verified, or discard the request if not. Kong can also perform verifications on some of the registered claims of RFC 7519 (exp and nbf).</p>


          <hr>

          <h2 id="terminology">Terminology</h2>
          <ul>
            <li><code>plugin</code>: a plugin executing actions inside Kong before or after a request has been proxied to the upstream API.</li>

            
              <li><code>Service</code>: the Kong entity representing an external <em>upstream</em> API or microservice.</li>
            
            
              <li><code>Route</code>: the Kong entity representing a way to map downstream requests to upstream services.</li>
            
            
              <li><code>upstream service</code>: this refers to your own API/service sitting behind Kong, to which client requests are forwarded.</li>
            
            <li><code>API</code>: a legacy entity used to represent your upstream services. <strong>Deprecated</strong> in favor of Services since 0.13.0.</li>
            

          </ul>

          <hr>

          

          <h2 id="configuration">Configuration</h2>
          
            <h4 id="enabling-the-plugin-on-a-service">Enabling the plugin on a Service</h4>

<p>Configure this plugin on a <a href="/latest/admin-api/#service-object">Service</a> by
making the following request:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -X POST http://kong:8001/services/<span class="o">{</span>service<span class="o">}</span>/plugins <span class="se">\</span>
    --data <span class="s2">"name=jwt"</span> 
</code></pre></div>
<ul>
<li><code>service</code>: the id or name of the Service that this plugin configuration will
target.</li>
</ul>

          
          
            <h4 id="enabling-the-plugin-on-a-route">Enabling the plugin on a Route</h4>

<p>Configure this plugin on a <a href="/latest/admin-api/#Route-object">Route</a> with:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -X POST http://kong:8001/routes/<span class="o">{</span>route_id<span class="o">}</span>/plugins <span class="se">\</span>
    --data <span class="s2">"name=jwt"</span> 
</code></pre></div>
<ul>
<li><code>route_id</code>: the id of the Route that this plugin configuration will target.</li>
</ul>

          
          
          
            <h4 id="enabling-the-plugin-on-an-api">Enabling the plugin on an API</h4>

<p>If you are using an older version of Kong with the legacy <a href="/0.13.x/admin-api/#api-object">API
entity</a> (<strong>deprecated</strong> since 0.13.0), you
can configure this plugin on top of such an API by making the following
request:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -X POST http://kong:8001/apis/<span class="o">{</span>api<span class="o">}</span>/plugins <span class="se">\</span>
    --data <span class="s2">"name=jwt"</span> 
</code></pre></div>
<ul>
<li><code>api</code>: either id or name of the API that this plugin configuration will
target.</li>
</ul>

          

          <h4>Global plugins</h4>

          <p>All plugins can be configured using the <code>http://kong:8001/plugins/</code> endpoint. A plugin which is not associated to any Service,
            Route or Consumer (or API, if you are using an older version of Kong) is considered "global", and will be run on every request.
            Read the <a href="/latest/admin-api/#add-plugin">Plugin Reference</a> and the
            <a href="/latest/admin-api/#precedence">Plugin Precedence</a> sections for more information.
          </p>

          <h4>Parameters</h4>

          <p>Here's a list of all the parameters which can be used in this plugin's configuration: </p>

          <table>
  <thead>
    <tr><th>form parameter</th><th>default</th><th>description</th></tr>
  </thead>
  <tbody>
    <tr><td><code>name</code></td><td></td><td>The name of the plugin to use, in this case <code>jwt</code></td></tr>

    
      <tr><td><code>service_id</code></td><td></td><td>The id of the Service which this plugin will target.</td></tr>
    
    
      <tr><td><code>route_id</code></td><td></td><td>The id of the Route which this plugin will target.</td></tr>
    
      <tr><td><code>enabled</code></td><td><code>true</code></td><td>Whether this plugin will be applied.</td></tr>
    
    
    <tr><td><code>api_id</code></td><td></td><td>The id of the API which this plugin will target. <strong>Note:</strong> The <a href="/0.13.x/admin-api/#api-object">API Entity</a> is deprecated since Kong 0.13.0.</td></tr>
    
    
      <tr>
        <td><code>config.uri_param_names</code>
          <br><em>optional</em>
          
        </td>
        <td><p><code>jwt</code></p>
</td>
        <td><p>A list of querystring parameters that Kong will inspect to retrieve JWTs.</p>
</td>
      </td>
    
      <tr>
        <td><code>config.cookie_names</code>
          <br><em>optional</em>
          
        </td>
        <td></td>
        <td><p>A list of cookie names that Kong will inspect to retrieve JWTs.</p>
</td>
      </td>
    
      <tr>
        <td><code>config.claims_to_verify</code>
          <br><em>optional</em>
          
        </td>
        <td></td>
        <td><p>A list of registered claims (according to <a href="https://tools.ietf.org/html/rfc7519">RFC 7519</a>) that Kong can verify as well. Accepted values: <code>exp</code>, <code>nbf</code>.</p>
</td>
      </td>
    
      <tr>
        <td><code>config.key_claim_name</code>
          <br><em>optional</em>
          
        </td>
        <td><p><code>iss</code></p>
</td>
        <td><p>The name of the claim in which the <code>key</code> identifying the secret <strong>must</strong> be passed. Starting with version <code>0.13.1</code>, the plugin will attempt to read this claim from the JWT payload and the header, in this order.</p>
</td>
      </td>
    
      <tr>
        <td><code>config.secret_is_base64</code>
          <br><em>optional</em>
          
        </td>
        <td><p><code>false</code></p>
</td>
        <td><p>If true, the plugin assumes the credential&#39;s <code>secret</code> to be base64 encoded. You will need to create a base64 encoded secret for your Consumer, and sign your JWT with the original secret.</p>
</td>
      </td>
    
      <tr>
        <td><code>config.anonymous</code>
          <br><em>optional</em>
          
        </td>
        <td></td>
        <td><p>An optional string (consumer uuid) value to use as an &quot;anonymous&quot; consumer if authentication fails. If empty (default), the request will fail with an authentication failure <code>4xx</code>. Please note that this value must refer to the Consumer <code>id</code> attribute which is internal to Kong, and <strong>not</strong> its <code>custom_id</code>.</p>
</td>
      </td>
    
      <tr>
        <td><code>config.run_on_preflight</code>
          <br><em>optional</em>
          
        </td>
        <td><p><code>true</code></p>
</td>
        <td><p>A boolean value that indicates whether the plugin should run (and try to authenticate) on <code>OPTIONS</code> preflight requests, if set to <code>false</code> then <code>OPTIONS</code> requests will always be allowed.</p>
</td>
      </td>
    
      <tr>
        <td><code>config.maximum_expiration</code>
          <br><em>optional</em>
          
        </td>
        <td><p>0</p>
</td>
        <td><p>An integer limiting the lifetime of the JWT to <code>maximum_expiration</code> seconds in the future. Any JWT that has a longer lifetime will rejected (HTTP 403). If this valeu is specified, <code>exp</code> must be specified as well in the <code>claims_to_verify</code> property. The default value of <code>0</code> represents an indefinite period. Potential clock skew should be considered when configuring this value.</p>
</td>
      </td>
    
  </tbody>
</table>


          <div class="alert alert-warning">
    <center>The option `config.run_on_preflight` is only available from version `0.11.1` and later</center>
</div>


          <h2 id="documentation">Documentation</h2>

<p>In order to use the plugin, you first need to create a Consumer and associate one or more JWT credentials (holding the public and private keys used to verify the token) to it. The Consumer represents a developer using the final service.</p>

<h3 id="create-a-consumer">Create a Consumer</h3>

<p>You need to associate a credential to an existing <a href="/latest/admin-api/#consumer-object">Consumer</a> object. To create a Consumer, you can execute the following request:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -X POST http://kong:8001/consumers <span class="se">\</span>
    --data <span class="s2">"username=&lt;USERNAME&gt;"</span> <span class="se">\</span>
    --data <span class="s2">"custom_id=&lt;CUSTOM_ID&gt;"</span>
HTTP/1.1 201 Created
</code></pre></div>
<table><thead>
<tr>
<th>form parameter</th>
<th>default</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>username</code><br><em>semi-optional</em></td>
<td></td>
<td>The username for this Consumer. Either this field or <code>custom_id</code> must be specified.</td>
</tr>
<tr>
<td><code>custom_id</code><br><em>semi-optional</em></td>
<td></td>
<td>A custom identifier used to map the Consumer to an external database. Either this field or <code>username</code> must be specified.</td>
</tr>
</tbody></table>

<p>A <a href="/latest/admin-api/#consumer-object">Consumer</a> can have many JWT credentials.</p>

<h3 id="create-a-jwt-credential">Create a JWT credential</h3>

<p>You can provision a new HS256 JWT credential by issuing the following HTTP request:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -X POST http://kong:8001/consumers/<span class="o">{</span>consumer<span class="o">}</span>/jwt -H <span class="s2">"Content-Type: application/x-www-form-urlencoded"</span>
HTTP/1.1 201 Created

<span class="o">{</span>
    <span class="s2">"consumer_id"</span>: <span class="s2">"7bce93e1-0a90-489c-c887-d385545f8f4b"</span>,
    <span class="s2">"created_at"</span>: 1442426001000,
    <span class="s2">"id"</span>: <span class="s2">"bcbfb45d-e391-42bf-c2ed-94e32946753a"</span>,
    <span class="s2">"key"</span>: <span class="s2">"a36c3049b36249a3c9f8891cb127243c"</span>,
    <span class="s2">"secret"</span>: <span class="s2">"e71829c351aa4242c2719cbfbe671c09"</span>
<span class="o">}</span>
</code></pre></div>
<ul>
<li><code>consumer</code>: The <code>id</code> or <code>username</code> property of the <a href="/latest/admin-api/#consumer-object">Consumer</a> entity to associate the credentials to.</li>
</ul>

<table><thead>
<tr>
<th>form parameter</th>
<th>default</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>key</code><br><em>optional</em></td>
<td></td>
<td>A unique string identifying the credential. If left out, it will be auto-generated.</td>
</tr>
<tr>
<td><code>algorithm</code><br><em>optional</em></td>
<td><code>HS256</code></td>
<td>The algorithm used to verify the token&#39;s signature. Can be <code>HS256</code>, <code>RS256</code>, or <code>ES256</code>.</td>
</tr>
<tr>
<td><code>rsa_public_key</code><br><em>optional</em></td>
<td></td>
<td>If <code>algorithm</code> is <code>RS256</code> or <code>ES256</code>, the public key (in PEM format) to use to verify the token&#39;s signature.</td>
</tr>
<tr>
<td><code>secret</code><br><em>optional</em></td>
<td></td>
<td>If <code>algorithm</code> is <code>HS256</code> or <code>ES256</code>, the secret used to sign JWTs for this credential. If left out, will be auto-generated.</td>
</tr>
</tbody></table>

<h3 id="delete-a-jwt-credential">Delete a JWT credential</h3>

<p>You can remove a Consumer&#39;s JWT credential by issuing the following HTTP
request:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -X DELETE http://kong:8001/consumers/<span class="o">{</span>consumer<span class="o">}</span>/jwt/<span class="o">{</span>id<span class="o">}</span>
HTTP/1.1 204 No Content
</code></pre></div>
<ul>
<li><code>consumer</code>: The <code>id</code> or <code>username</code> property of the <a href="/latest/admin-api/#consumer-object">Consumer</a> entity to associate the credentials to.</li>
<li><code>id</code>: The <code>id</code> of the JWT credential.</li>
</ul>

<h3 id="list-jwt-credentials">List JWT credentials</h3>

<p>You can list a Consumer&#39;s JWT credentials by issuing the following HTTP
request:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -X GET http://kong:8001/consumers/<span class="o">{</span>consumer<span class="o">}</span>/jwt
HTTP/1.1 200 OK
</code></pre></div>
<ul>
<li><code>consumer</code>: The <code>id</code> or <code>username</code> property of the
<a href="/latest/admin-api/#consumer-object">Consumer</a> entity to list credentials for.</li>
</ul>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"rsa_public_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgK .... -----END PUBLIC KEY-----"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"consumer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39f52333-9741-48a7-9450-495960d91684"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3239880d-1de5-4dbc-bccf-78f7a4280f33"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1491430568000</span><span class="p">,</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c5a55906cc244f483226e02bcff2b5e"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"algorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b0970f7fc9564e65xklfn48930b5d08b1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h3 id="craft-a-jwt-with-a-secret-hs256">Craft a JWT with a secret (HS256)</h3>

<p>Now that your Consumer has a credential, and assuming we want to sign it using <code>HS256</code>, the JWT should be crafted as follows (according to <a href="https://tools.ietf.org/html/rfc7519">RFC 7519</a>):</p>

<p>First, its header must be:</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"typ"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JWT"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HS256"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Secondly, the claims <strong>must</strong> contain the secret&#39;s <code>key</code> in the configured claim (from <code>config.key_claim_name</code>).
That claim is <code>iss</code> (issuer field) by default. Set its value to our previously created credential&#39;s <code>key</code>.
The claims may contain other values. Since Kong <code>0.13.1</code>, the claim is searched in both the JWT payload and header,
in this order.</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"iss"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a36c3049b36249a3c9f8891cb127243c"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Using the JWT debugger at <a href="https://jwt.io">https://jwt.io</a> with the header (HS256), claims (iss, etc), and <code>secret</code> associated with this <code>key</code> (e71829c351aa4242c2719cbfbe671c09), you&#39;ll end up with a JWT token of:</p>
<div class="highlight"><pre><code class="language-" data-lang="">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJhMzZjMzA0OWIzNjI0OWEzYzlmODg5MWNiMTI3MjQzYyIsImV4cCI6MTQ0MjQzMDA1NCwibmJmIjoxNDQyNDI2NDU0LCJpYXQiOjE0NDI0MjY0NTR9.AhumfY35GFLuEEjrOXiaADo7Ae6gt_8VLwX7qffhQN4
</code></pre></div>
<h3 id="send-a-request-with-the-jwt">Send a request with the JWT</h3>

<p>The JWT can now be included in a request to Kong by adding it to the <code>Authorization</code> header:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl http://kong:8000/<span class="o">{</span>route path<span class="o">}</span> <span class="se">\</span>
    -H <span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJhMzZjMzA0OWIzNjI0OWEzYzlmODg5MWNiMTI3MjQzYyIsImV4cCI6MTQ0MjQzMDA1NCwibmJmIjoxNDQyNDI2NDU0LCJpYXQiOjE0NDI0MjY0NTR9.AhumfY35GFLuEEjrOXiaADo7Ae6gt_8VLwX7qffhQN4'</span>
</code></pre></div>
<p>as a querystring parameter, if configured in <code>config.uri_param_names</code> (which contains <code>jwt</code> by default):</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl http://kong:8000/<span class="o">{</span>route path<span class="o">}</span>?jwt<span class="o">=</span>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJhMzZjMzA0OWIzNjI0OWEzYzlmODg5MWNiMTI3MjQzYyIsImV4cCI6MTQ0MjQzMDA1NCwibmJmIjoxNDQyNDI2NDU0LCJpYXQiOjE0NDI0MjY0NTR9.AhumfY35GFLuEEjrOXiaADo7Ae6gt_8VLwX7qffhQN4
</code></pre></div>
<p>or as cookie, if the name is configured in <code>config.cookie_names</code> (which is not enabled by default):</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">curl --cookie <span class="nv">jwt</span><span class="o">=</span>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJhMzZjMzA0OWIzNjI0OWEzYzlmODg5MWNiMTI3MjQzYyIsImV4cCI6MTQ0MjQzMDA1NCwibmJmIjoxNDQyNDI2NDU0LCJpYXQiOjE0NDI0MjY0NTR9.AhumfY35GFLuEEjrOXiaADo7Ae6gt_8VLwX7qffhQN4 http://kong:8000/<span class="o">{</span>route path<span class="o">}</span>
</code></pre></div>
<p>The request will be inspected by Kong, whose behavior depends on the validity of the JWT:</p>

<table><thead>
<tr>
<th>request</th>
<th>proxied to upstream service</th>
<th>response status code</th>
</tr>
</thead><tbody>
<tr>
<td>has no JWT</td>
<td>no</td>
<td>401</td>
</tr>
<tr>
<td>missing or invalid <code>iss</code> claim</td>
<td>no</td>
<td>401</td>
</tr>
<tr>
<td>invalid signature</td>
<td>no</td>
<td>403</td>
</tr>
<tr>
<td>valid signature</td>
<td>yes</td>
<td>from the upstream service</td>
</tr>
<tr>
<td>valid signature, invalid verified claim (<strong>option</strong>)</td>
<td>no</td>
<td>403</td>
</tr>
</tbody></table>

<div class="alert alert-warning">
  <strong>Note:</strong> When the JWT is valid and proxied to the upstream service, Kong makes no modification to the request other than adding headers identifying the Consumer. The JWT will be forwarded to your upstream service, which can assume its validity. It is now the role of your service to base64 decode the JWT claims and make use of them.
</div>

<h3 id="optional-verified-claims">(<strong>Optional</strong>) Verified claims</h3>

<p>Kong can also perform verification on registered claims, as defined in <a href="https://tools.ietf.org/html/rfc7519">RFC 7519</a>. To perform verification on a claim, add it to the <code>config.claims_to_verify</code> property:</p>

<p>You can patch an existing jwt plugin: </p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># This adds verification for both nbf and exp claims:</span>
<span class="gp">$ </span>curl -X PATCH http://kong:8001/plugins/<span class="o">{</span>jwt plugin id<span class="o">}</span> <span class="se">\</span>
    --data <span class="s2">"config.claims_to_verify=exp,nbf"</span>
</code></pre></div>
<p>Supported claims:</p>

<table><thead>
<tr>
<th>claim name</th>
<th>verification</th>
</tr>
</thead><tbody>
<tr>
<td><code>exp</code></td>
<td>identifies the expiration time on or after which the JWT must not be accepted for processing.</td>
</tr>
<tr>
<td><code>nbf</code></td>
<td>identifies the time before which the JWT must not be accepted for processing.</td>
</tr>
</tbody></table>

<h3 id="optional-base64-encoded-secret">(<strong>Optional</strong>) Base64 encoded secret</h3>

<p>If your secret contains binary data, you can store them as base64 encoded in Kong. Enable this option in the plugin&#39;s configuration:</p>

<p>You can patch an existing1 Route:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -X PATCH http://kong:8001/routes/<span class="o">{</span>route id<span class="o">}</span>/plugins/<span class="o">{</span>jwt plugin id<span class="o">}</span> <span class="se">\</span>
    --data <span class="s2">"config.secret_is_base64=true"</span>
</code></pre></div>
<p>or patch an existing API: </p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -X PATCH http://kong:8001/apis/<span class="o">{</span>api<span class="o">}</span>/plugins/<span class="o">{</span>jwt plugin id<span class="o">}</span> <span class="se">\</span>
    --data <span class="s2">"config.secret_is_base64=true"</span>
</code></pre></div>
<p>Then, base64 encode your consumers&#39; secrets:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># secret is: "blob data"</span>
<span class="gp">$ </span>curl -X POST http://kong:8001/consumers/<span class="o">{</span>consumer<span class="o">}</span>/jwt <span class="se">\</span>
  --data <span class="s2">"secret=YmxvYiBkYXRh"</span>
</code></pre></div>
<p>And sign your JWT using the original secret (&quot;blob data&quot;).</p>

<h3 id="craft-a-jwt-with-public-private-keys-rs256-or-es256">Craft a JWT with public/private keys (RS256 or ES256)</h3>

<p>If you wish to use RS256 or ES256 to verify your JWTs, then when creating a JWT credential, select <code>RS256</code> or <code>ES256</code> as the <code>algorithm</code>, and explicitly upload the public key in the <code>rsa_public_key</code> field (including for ES256 signed tokens). For example:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -X POST http://kong:8001/consumers/<span class="o">{</span>consumer<span class="o">}</span>/jwt <span class="se">\</span>
      -F <span class="s2">"rsa_public_key=@/path/to/public_key.pem"</span> <span class="se">\</span>
HTTP/1.1 201 Created

<span class="o">{</span>
    <span class="s2">"consumer_id"</span>: <span class="s2">"7bce93e1-0a90-489c-c887-d385545f8f4b"</span>,
    <span class="s2">"created_at"</span>: 1442426001000,
    <span class="s2">"id"</span>: <span class="s2">"bcbfb45d-e391-42bf-c2ed-94e32946753a"</span>,
    <span class="s2">"key"</span>: <span class="s2">"a36c3049b36249a3c9f8891cb127243c"</span>,
    <span class="s2">"rsa_public_key"</span>: <span class="s2">"-----BEGIN PUBLIC KEY----- ..."</span>
<span class="o">}</span>
</code></pre></div>
<p>When creating the signature, make sure that the header is:</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"typ"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JWT"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Secondly, the claims <strong>must</strong> contain the secret&#39;s <code>key</code> field (this <strong>isn&#39;t</strong> your private key used to generate
the token, but just an identifier for this credential) in the configured claim (from <code>config.key_claim_name</code>).
That claim is <code>iss</code> (issuer field) by default. Set its value to our previously created credential&#39;s <code>key</code>.
The claims may contain other values. Since Kong <code>0.13.1</code>, the claim is searched in both the JWT payload and header,
in this order.</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"iss"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a36c3049b36249a3c9f8891cb127243c"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Then create the signature using your private keys. Using the JWT debugger at <a href="https://jwt.io">https://jwt.io</a>, set the right header (RS256), the claims (iss, etc), and the associated public key. Then append the resulting value in the <code>Authorization</code> header, for example:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl http://kong:8000/<span class="o">{</span>route path<span class="o">}</span> <span class="se">\</span>
    -H <span class="s1">'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiIxM2Q1ODE0NTcyZTc0YTIyYjFhOWEwMDJmMmQxN2MzNyJ9.uNPTnDZXVShFYUSiii78Q-IAfhnc2ExjarZr_WVhGrHHBLweOBJxGJlAKZQEKE4rVd7D6hCtWSkvAAOu7BU34OnlxtQqB8ArGX58xhpIqHtFUkj882JQ9QD6_v2S2Ad-EmEx5402ge71VWEJ0-jyH2WvfxZ_pD90n5AG5rAbYNAIlm2Ew78q4w4GVSivpletUhcv31-U3GROsa7dl8rYMqx6gyo9oIIDcGoMh3bu8su5kQc5SQBFp1CcA5H8sHGfYs-Et5rCU2A6yKbyXtpHrd1Y9oMrZpEfQdgpLae0AfWRf6JutA9SPhst9-5rn4o3cdUmto_TBGqHsFmVyob8VQ'</span>
</code></pre></div>
<h3 id="generate-public-private-keys">Generate public/private keys</h3>

<p>To create a brand new pair of public/private keys, you can run the following command:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>openssl genrsa -out private.pem 2048
</code></pre></div>
<p>This private key must be kept secret. To generate a public key corresponding to the private key, execute:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>openssl rsa -in private.pem -outform PEM -pubout -out public.pem
</code></pre></div>
<p>If you run the commands above, the public key will be written in <code>public.pem</code>, while the private key will be written in <code>private.pem</code>.</p>

<h3 id="using-the-jwt-plugin-with-auth0">Using the JWT plugin with Auth0</h3>

<p><a href="https://auth0.com/">Auth0</a> is a popular solution for Authorization, and relies
heavily on JWTs. Auth0 relies on RS256, does not base64 encode, and publically
hosts the public key certificate used to sign tokens. Account name is referred
to &quot;COMPANYNAME&quot; for the sake of the guide.</p>

<p>To get started, create a Service, a Route that uses that Service, <em>or</em> create
an API. <em>Note: Auth0 does not use base64 encoded secrets.</em></p>

<p>Create a Service:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -i -f -X POST http://localhost:8001/services <span class="se">\</span>
    --data <span class="s2">"name=example-service"</span> <span class="se">\</span>
    --data <span class="s2">"=http://httpbin.org"</span>
</code></pre></div>
<p>Then create a Route:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -i -f -X POST http://localhost:8001/routes <span class="se">\</span>
    --data <span class="s2">"service.id={example-service's id}"</span> <span class="se">\</span>
    --data <span class="s2">"paths[]=/example_path"</span>
</code></pre></div>
<p>or create an API, note these are depreciated:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -i -X POST http://localhost:8001/apis <span class="se">\</span>
    --data <span class="s2">"name={api}"</span> <span class="se">\</span>
    --data <span class="s2">"hosts=example.com"</span> <span class="se">\</span>
    --data <span class="s2">"upstream_url=http://httpbin.org"</span>
</code></pre></div>
<p>Add the JWT Plugin:</p>

<p>Add the plugin to your Route:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -X POST http://localhost:8001/route/<span class="o">{</span>route id<span class="o">}</span>/plugins <span class="se">\</span>
    --data <span class="s2">"name=jwt"</span>
</code></pre></div>
<p>Add the plugin to your API: </p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -X POST http://localhost:8001/apis/<span class="o">{</span>api<span class="o">}</span>/plugins <span class="se">\</span>
    --data <span class="s2">"name=jwt"</span>
</code></pre></div>
<p>Download your Auth0 account&#39;s X509 Certificate:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -o <span class="o">{</span>COMPANYNAME<span class="o">}</span>.pem https://<span class="o">{</span>COMPANYNAME<span class="o">}</span>.auth0.com/pem
</code></pre></div>
<p>Extract the public key from the X509 Certificate:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>openssl x509 -pubkey -noout -in <span class="o">{</span>COMPANYNAME<span class="o">}</span>.pem &gt; pubkey.pem
</code></pre></div>
<p>Create a Consumer with the Auth0 public key:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -i -X POST http://kong:8001/consumers <span class="se">\</span>
    --data <span class="s2">"username=&lt;USERNAME&gt;"</span> <span class="se">\</span>
    --data <span class="s2">"custom_id=&lt;CUSTOM_ID&gt;"</span>

<span class="gp">$ </span>curl -i -X POST http://localhost:8001/consumers/<span class="o">{</span>consumer<span class="o">}</span>/jwt <span class="se">\</span>
    -F <span class="s2">"algorithm=RS256"</span> <span class="se">\</span>
    -F <span class="s2">"rsa_public_key=@./pubkey.pem"</span> <span class="se">\</span>
    -F <span class="s2">"key=https://{COMPAYNAME}.auth0.com/"</span> <span class="c"># the `iss` field</span>
</code></pre></div>
<p>The JWT plugin by default validates the <code>key_claim_name</code> against the <code>iss</code>
field in the token. Keys issued by Auth0 have their <code>iss</code> field set to
<code>http://{COMPANYNAME}.auth0.com/</code>. You can use <a href="https://jwt.io">jwt.io</a> to
validate the <code>iss</code> field for the <code>key</code> parameter when creating the
Consumer.</p>

<p>Send requests through, only tokens signed by Auth0 will work:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -i http://localhost:8000 <span class="se">\</span>
    -H <span class="s2">"Host:example.com"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization:Bearer "</span>
</code></pre></div>
<p>Success!</p>

<h3 id="upstream-headers">Upstream Headers</h3>

<p>When a JWT is valid, a Consumer has been authenticated, the plugin will append some headers to the request before proxying it to the upstream service, so that you can identify the Consumer in your code:</p>

<ul>
<li><code>X-Consumer-ID</code>, the ID of the Consumer on Kong</li>
<li><code>X-Consumer-Custom-ID</code>, the <code>custom_id</code> of the Consumer (if set)</li>
<li><code>X-Consumer-Username</code>, the <code>username</code> of the Consumer (if set)</li>
<li><code>X-Anonymous-Consumer</code>, will be set to <code>true</code> when authentication failed, and the &#39;anonymous&#39; consumer was set instead.</li>
</ul>

<p>You can use this information on your side to implement additional logic. You can use the <code>X-Consumer-ID</code> value to query the Kong Admin API and retrieve more information about the Consumer.</p>

<h3 id="paginate-through-the-jwts">Paginate through the JWTs</h3>

<div class="alert alert-warning">
  <strong>Note:</strong> This endpoint was introduced in Kong 0.11.2.
</div>

<p>You can paginate through the JWTs for all Consumers using the following
request:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>curl -X GET http://kong:8001/jwts

<span class="o">{</span>
    <span class="s2">"total"</span>: 3,
    <span class="s2">"data"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"created_at"</span>: 1509593911000,
            <span class="s2">"id"</span>: <span class="s2">"381879e5-04a1-4c8a-9517-f85fbf90c3bc"</span>,
            <span class="s2">"algorithm"</span>: <span class="s2">"HS256"</span>,
            <span class="s2">"key"</span>: <span class="s2">"UHVwIly5ZxZH7g52E0HRlFkFC09v9yI0"</span>,
            <span class="s2">"secret"</span>: <span class="s2">"KMWyDsTTcZgqqyOGgRWTDgZtIyWeEtJh"</span>,
            <span class="s2">"consumer_id"</span>: <span class="s2">"3c2c8fc1-7245-4fbb-b48b-e5947e1ce941"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"created_at"</span>: 1511389527000,
            <span class="s2">"id"</span>: <span class="s2">"0dfc969b-02be-42ae-9d98-e04ed1c05850"</span>,
            <span class="s2">"algorithm"</span>: <span class="s2">"ES256"</span>,
            <span class="s2">"key"</span>: <span class="s2">"vcc1NlsPfK3N6uU03YdNrDZhzmFF4S19"</span>,
            <span class="s2">"secret"</span>: <span class="s2">"b65Rs6wvnWPYaCEypNU7FnMOZ4lfMGM7"</span>,
            <span class="s2">"consumer_id"</span>: <span class="s2">"c0d92ba9-8306-482a-b60d-0cfdd2f0e880"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"created_at"</span>: 1509593912000,
            <span class="s2">"id"</span>: <span class="s2">"d10c6f3b-71f1-424e-b1db-366abb783460"</span>,
            <span class="s2">"algorithm"</span>: <span class="s2">"HS256"</span>,
            <span class="s2">"key"</span>: <span class="s2">"SqSNfg9ARmPnpycyJSMAc2uR6nxdmc9S"</span>,
            <span class="s2">"secret"</span>: <span class="s2">"CCh6ZIcwDSOIWacqkkWoJ0FWdZ5eTqrx"</span>,
            <span class="s2">"consumer_id"</span>: <span class="s2">"3c2c8fc1-7245-4fbb-b48b-e5947e1ce941"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p>You can filter the list using the following query parameters:</p>

<table><thead>
<tr>
<th style="text-align: right">Attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><code>id</code><br><em>optional</em></td>
<td>A filter on the list based on the JWT credential <code>id</code> field.</td>
</tr>
<tr>
<td style="text-align: right"><code>key</code><br><em>optional</em></td>
<td>A filter on the list based on the JWT credential <code>key</code> field.</td>
</tr>
<tr>
<td style="text-align: right"><code>consumer_id</code><br><em>optional</em></td>
<td>A filter on the list based on the JWT credential <code>consumer_id</code> field.</td>
</tr>
<tr>
<td style="text-align: right"><code>size</code><br><em>optional, default is <strong>100</strong></em></td>
<td>A limit on the number of objects to be returned.</td>
</tr>
<tr>
<td style="text-align: right"><code>offset</code><br><em>optional</em></td>
<td>A cursor used for pagination. <code>offset</code> is an object identifier that defines a place in the list.</td>
</tr>
</tbody></table>

<h3 id="retrieve-the-consumer-associated-with-a-jwt">Retrieve the Consumer associated with a JWT</h3>

<div class="alert alert-warning">
  <strong>Note:</strong> This endpoint was introduced in Kong 0.11.2.
</div>

<p>It is possible to retrieve a <a href="/latest/admin-api/#consumer-object">Consumer</a> associated with a JWT
using the following request:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">curl -X GET http://kong:8001/jwts/<span class="o">{</span>key or id<span class="o">}</span>/consumer

<span class="o">{</span>
   <span class="s2">"created_at"</span>:1507936639000,
   <span class="s2">"username"</span>:<span class="s2">"foo"</span>,
   <span class="s2">"id"</span>:<span class="s2">"c0d92ba9-8306-482a-b60d-0cfdd2f0e880"</span>
<span class="o">}</span>
</code></pre></div>
<p><code>key or id</code>: The <code>id</code> or <code>key</code> property of the JWT for which to get the
associated <a href="/latest/admin-api/#consumer-object">Consumer</a>.</p>

        </div>
      </div>
    </div>
  </div>
</div>


    
  <section class="section subscribe-section" id="newsletter">
  <div class="container">
    <header class="section-header">
      <h4>Keep up with the latest features</h4>
    </header>

    <div class="row">
      <div class="one-half column offset-by-three">
        <noscript>
          <iframe id="newsletter-iframe" src="https://go.pardot.com/l/392112/2017-08-16/b2qn8v" width="100%" height="100" type="text/html"
            frameborder="0" allowTransparency="true" style="border: 0"></iframe>
        </noscript>
        <script type="text/javascript">
          var form = 'https://go.pardot.com/l/392112/2017-08-16/b2qn8v';
          var params = window.location.search;
          var thisScript = document.scripts[document.scripts.length - 1];
          var iframe = document.createElement('iframe');

          iframe.setAttribute('src', form + params);
          iframe.setAttribute('width', '100%');
          iframe.setAttribute('height', 100);
          iframe.setAttribute('type', 'text/html');
          iframe.setAttribute('frameborder', 0);
          iframe.setAttribute('allowTransparency', 'true');
          iframe.setAttribute('id', 'newsletter-iframe');
          iframe.style.border = '0';

          thisScript.parentElement.replaceChild(iframe, thisScript);
        </script>
      </div>
    </div>
  </div>
</section>



<footer class="marketing-footer--light-gray">
  <section>
    <ul>
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/kong-blue.png" alt="Kong Inc">
        </div>
      </li>
      <li>
        <nav>
          <h4>Company</h4>
          <ul>
            <li><a href="https://konghq.com/about-kong-inc/">About</a></li>
            <li><a href="https://konghq.com/investors/">Investors</a></li>
            <li><a href="http://konghq.com/blog/">Blog</a></li>
            <li><a href="https://konghq.com/jobs/">Jobs</a></li>
            <li><a href="https://konghq.com/contact/">Contact</a></li>
            <li><a href="https://support.konghq.com">Support</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h4>Products</h4>
          <ul>
            <li><a href="https://docs.konghq.com/">Kong</a></li>
            <li><a href="https://konghq.com/api-dev-portal/">Dev Portal</a></li>
            <li><a href="https://konghq.com/api-analytics/">API Analytics</a></li>
            <li><a href="https://konghq.com/kong-enterprise-edition/">Enterprise</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h4>Open Source</h4>
          <ul>
            <li><a href="http://mockbin.org/">Mockbin</a></li>
            <li><a href="http://apiembed.com/">API Embed</a></li>
            <li><a href="http://unirest.io/">Unirest</a></li>
            <li><a href="http://guardianjs.com/">Guardian JS</a></li>
            <li><a href="http://oauthbible.com/">OAuth Bible</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h4>Legal</h4>
          <ul>
            <li><a href="https://konghq.com/terms/">Terms of Service</a></li>
            <li><a href="https://konghq.com/privacy/">Privacy Policy</a></li>
          </ul>
        </nav>
      </li>
    </ul>
  </section>

  <section class="legal">
    <ul>
      <li>
        <span class="mashape-footer-content">&copy; Kong Inc. 2018</span>
      </li>
      <li>
        <div class="social-link">
          <a href="https://github.com/Kong" title="Github"><i aria-label="Github" class="fa fa-github" aria-hidden="true"></i></a></div>
        <div class="social-link">
          <a href="https://www.facebook.com/konghq/" title="Facebook"><i aria-label="Facebook" class="fa fa-facebook-official" aria-hidden="true"></i></a></div>
        <div class="social-link">
          <a href="https://www.meetup.com/topics/kong/all/" title="Meetup"><img aria-label="Meetup" alt="Meetup" src="/assets/images/footer/icn-meetup-black.svg"></a>
        </div>
        <div class="social-link">
          <a href="https://twitter.com/thekonginc" title="Twitter"><i aria-label="Twitter" class="fa fa-twitter" aria-hidden="true"></i></a>
        </div>
      </li>
    </ul>
  </section>
</footer>

    <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };
  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];
      if (typeof header.id !== "undefined" && header.id !== "") {
        header.prepend(anchorForId(header.id));
      }
    }
  };
  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementById("documentation");
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>


    <script src="/assets/app.js?v=1534747998"></script>

    <div id="fb-root"></div>

    <script id="github-bjs" src="https://buttons.github.io/buttons.js" async defer></script>
    <script id="twitter-wjs" type="text/javascript" src="https://platform.twitter.com/widgets.js" async defer></script>
    <script id="facebook-jssdk" type="text/javascript" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=842731852424506" async defer></script>

    <script type="text/javascript">
      piAId = '393112';
      piCId = '48375';

      (function() {
        function async_load(){
          var s = document.createElement('script'); s.type = 'text/javascript';
          s.src = ('https:' == document.location.protocol ? 'https://pi' : 'http://cdn') + '.pardot.com/pd.js';
          var c = document.getElementsByTagName('script')[0]; c.parentNode.insertBefore(s, c);
        }
        if(window.attachEvent) { window.attachEvent('onload', async_load); }
        else { window.addEventListener('load', async_load, false); }
      })();
    </script>

    <script type='text/javascript'>
      var _vwo_code=(function(){
      var account_id=125292,
      settings_tolerance=2000,
      library_tolerance=2500,
      use_existing_jquery=true,
      // DO NOT EDIT BELOW THIS LINE
      f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());var a=d.createElement('style'),b='',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
    </script>

    <script type="text/javascript">
      !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.1";
        analytics.load("WDj0nSS7hpyxwL3evgbOzK755s0NUye6");
        analytics.page()
      }}();
    </script>

  </body>


</html>
